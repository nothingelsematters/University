```
Университет ИТМО, 2017 г.
```
# Задача A. Кузнечик собирает монеты

Имя входного файла: input.txt
Имя выходного файла: output.txt
Ограничение по времени: 2 секунды
Ограничение по памяти: 256 мегабайт
Кузнечик прыгает по столбикам, расположенным на одной линии на равных расстояниях друг
от друга. Столбики имеют порядковые номера от 1 доN. В начале Кузнечик сидит на столбике с
номером 1. Он может прыгнуть вперед на расстояние от 1 доKстолбиков, считая от текущего.
На каждом столбике Кузнечик может получить или потерять несколько золотых монет (для
каждого столбика это число известно). Определите, как нужно прыгать Кузнечику, чтобы собрать
наибольшее количество золотых монет. Учитывайте, что Кузнечик не может прыгать назад.

## Форматвходныхданных

В первой строке вводятся два натуральных числа:N иK( 2 ⩽ N; K ⩽ 10000 ), разделённые
пробелом. Во второй строке записаны через пробелN 2 целых числа  количество монет, которое
Кузнечик получает на каждом столбике, от 2-го доN 1 -го. Если это число отрицательное, Кузнечик
теряет монеты. Гарантируется, что все числа по модулю не превосходят10 000.

## Форматвыходныхданных

В первой строке программа должна вывести наибольшее количество монет, которое может со-
брать Кузнечик. Во второй строке выводится число прыжков Кузнечика, а в третьей строке  номера
всех столбиков, которые посетил Кузнечик (через пробел в порядке возрастания).
Если правильных ответов несколько, выведите любой из них.

## Пример

```
input.txt output.txt
5 3
2 -3 5
```
### 7

### 3

### 1 2 4 5



```
Университет ИТМО, 2017 г.
```
# Задача B. Наибольшая возрастающая подпоследова-

# тельность

Имя входного файла: стандартный ввод
Имя выходного файла: стандартный вывод
Ограничение по времени: 2 секунды
Ограничение по памяти: 256 мегабайт
Пустьa 1 ; a 2 ; : : : ; an— числовая последовательность. Длина последовательности — это количество
элементов этой последовательности. Последовательностьai 1 ; ai 2 ; : : : ; aik называется подпоследова-
тельностью последовательностиa, если 1 ⩽i 1 < i 2 < : : : < ik⩽n. Последовательностьaназывается
возрастающей, еслиa 1 < a 2 < : : : < an.
Вам дана последовательность, содержащаяnцелых чисел. Найдите ее самую длинную возрас-
тающую подпоследовательность.

## Системаоценки

```
Подзадача 1 (60 баллов) n⩽ 300
Подзадача 2 (40 баллов) n⩽2 000
```
## Форматвходныхданных

В первой строке задано одно числоn( 1 ⩽n⩽ 2000 ) — длина подпоследовательности. В следу-
ющей строке заданоnцелых чиселai(109 ⩽ai⩽ 109 ) — элементы последовательности.

## Форматвыходныхданных

В первой строке выведите числоk— длину наибольшей возрастающей подпоследовательности.
В следующей строке выведитеkчисел — саму подпоследовательность.

## Примеры

```
стандартный ввод стандартный вывод
5
1 3 5 4 2
```
### 3

### 1 3 5

### 3

### 1 2 3

### 3

### 1 2 3


```
Университет ИТМО, 2017 г.
```
# Задача C. Ход конем

Имя входного файла: стандартный ввод
Имя выходного файла: стандартный вывод
Ограничение по времени: 1 секунда
Ограничение по памяти: 256 мегабайт
Шахматная ассоциация решила оснастить всех своих сотрудников такими телефонными номера-
ми, которые бы набирались на кнопочном телефоне ходом коня. Например, ходом коня набирается
телефон 340-49-27. При этом телефонный номер не может начинаться ни с цифры 0, ни с цифры 8.

```
1 2 3
4 5 6
7 8 9
0
```
Напишите программу, определяющую количество телефонных номеров длиныN, набираемых
ходом коня. Поскольку таких номеров может быть очень много, выведите ответ по модулю 109.

## Форматвходныхданных

```
Во входном файле записано целое числоN( 1 ⩽N⩽ 100 ).
```
## Форматвыходныхданных

```
Выведите в выходной файл искомое количество телефонных номеров по модулю 109.
```
## Примеры

```
стандартный ввод стандартный вывод
1 8
2 16
```

```
Университет ИТМО, 2017 г.
```# Задача D. Расстояние по Левенштейну

```
Имя входного файла: input.txt
Имя выходного файла: output.txt
Ограничение по времени: 2 секунды
Ограничение по памяти: 256 мегабайт
Дана текстовая строка. С ней можно выполнять следующие операции:
```
1. Заменить один символ строки на другой символ.
2. Удалить один произвольный символ.
3. Вставить произвольный символ в произвольное место строки.
Например, при помощи первой операции из строки "СОК"можно получить строку "СУК при
помощи второй операции - строку "ОК при помощи третьей операции - строку "СТОК.
Минимальное количество таких операций, при помощи которых можно из одной строки получить
другую, называется стоимостью редактирования или расстоянием Левенштейна.
Определите расстояние Левенштейна для двух данных строк.

## Форматвходныхданных

Программа получает на вход две строки, длина каждой из которых не превосходит 1000 симво-
лов, строки состоят только из заглавных латинских букв.

## Форматвыходныхданных

```
Требуется вывести одно число  расстояние Левенштейна для данных строк.
```
## Пример

```
input.txt output.txt
ABCDEFGH
ACDEXGIH
```
### 3


```
Университет ИТМО, 2017 г.
```
# Задача E. Кафе

Имя входного файла: стандартный ввод
Имя выходного файла: стандартный вывод
Ограничение по времени: 2 секунды
Ограничение по памяти: 64 мегабайта
Около Петиного университета недавно открылось новое кафе, в котором действует следующая
система скидок: при каждой покупке более чем на 100 рублей покупатель получает купон, дающий
право на один бесплатный обед (при покупке на сумму 100 рублей и меньше такой купон покупатель
не получает).
Однажды Пете на глаза попался прейскурант на ближайшиеnдней. Внимательно его изучив,
он решил, что будет обедать в этом кафе всеnдней, причем каждый день он будет покупать в
кафе ровно один обед. Однако стипендия у Пети небольшая, и поэтому он хочет по максимуму ис-
пользовать предоставляемую систему скидок так, чтобы его суммарные затраты были минимальны.
Требуется найти минимально возможную суммарную стоимость обедов и номера дней, в которые
Пете следует воспользоваться купонами.

## Форматвходныхданных

В первой строке входного файла записано целое числоn( 0 ⩽n⩽ 100 ). В каждой из последующих
nстрок записано одно целое число, обозначающее стоимость обеда в рублях на соответствующий
день. Стоимость — неотрицательное целое число, не превосходящее 300.

## Форматвыходныхданных

В первой строке выдайте минимальную возможную суммарную стоимость обедов. Во второй
строке выдайте два числаk 1 иk 2 — количество купонов, которые останутся неиспользованными у
Пети после этихnдней и количество использованных им купонов соответственно.
В последующихk 2 строках выдайте в возрастающем порядке номера дней, когда Пете следует
воспользоваться купонами. Если существует несколько решений с минимальной суммарной стоимо-
стью, то выдайте то из них, в котором значениеk 1 максимально (на случай, если Петя когда-нибудь
ещё решит заглянуть в это кафе). Если таких решений несколько, выведите любое из них.

## Примеры

```
стандартный ввод стандартный вывод
5
110
40
120
110
60
```
### 260

### 0 2

### 3

### 5

### 3

### 110

### 110

### 110

### 220

### 1 1

### 2

```
Университет ИТМО, 2017 г.
```
# Задача F. Удаление скобок 2.

Имя входного файла: стандартный ввод
Имя выходного файла: стандартный вывод
Ограничение по времени: 2 секунды
Ограничение по памяти: 256 мегабайт
Дана строка, составленная из круглых, квадратных и фигурных скобок. Определите, какое наи-
меньшее количество символов необходимо удалить из этой строки, чтобы оставшиеся символы об-
разовывали правильную скобочную последовательность.

## Форматвходныхданных

Во входном файле записана строка из круглых, квадратных и фигурных скобок. Длина строки
не превосходит 100 символов.

## Форматвыходныхданных

Выведите максимальную длину строки, являющуюся правильной скобочной последовательно-
стью, которую можно получить из исходной строки удалением некоторых символов.

## Пример

```
стандартный ввод стандартный вывод
([)] 2
```

```
Университет ИТМО, 2017 г.
```
# Задача G. Удаление скобок 2.

Имя входного файла: стандартный ввод
Имя выходного файла: стандартный вывод
Ограничение по времени: 2 секунды
Ограничение по памяти: 256 мегабайт
Дана строка, составленная из круглых, квадратных и фигурных скобок. Определите, какое наи-
меньшее количество символов необходимо удалить из этой строки, чтобы оставшиеся символы об-
разовывали правильную скобочную последовательность.

## Форматвходныхданных

Во входном файле записана строка из круглых, квадратных и фигурных скобок. Длина строки
не превосходит 100 символов.

## Форматвыходныхданных

Выведите строку максимальной длины, являющейся правильной скобочной последовательно-
стью, которую можно получить из исходной строки удалением некоторых символов.

## Пример

```
стандартный ввод стандартный вывод
([)] []
```

```
Университет ИТМО, 2017 г.
```
# Задача H. Выбор вершин дерева

Имя входного файла: стандартный ввод
Имя выходного файла: стандартный вывод
Ограничение по времени: 2 секунды
Ограничение по памяти: 256 мегабайт
Дан граф, являющийся деревом. Множество вершин графа называетсядопустимым, если ни-
какие две вершины этого множества не соединены ребром.
Рассмотрим все допустимые множества вершин графа. Для каждого такого множества посчитаем
количество вершин в нём. Каково максимальное из этих количеств?

## Форматвходныхданных

Граф в этой задаче задан в видекорневогодерева. В графе выделена вершина —кореньдерева.
Для каждой вершиныi, не являющейся корнем, задан номер вершины-предкаpiв корневом дереве.
Дерево, заданное таким образом, состоит из рёберi—piдля всех вершинi, кроме корня.
В первой строке входного файла записано целое число n— количество вершин в графе
( 1 ⩽ n⩽ 100 ). В следующихnстроках задан граф. Вi-й из этих строк записано целое число
pi— номер вершины-предкаi-й вершины. Для корня дереваpi= 0; для всех остальных вершин
1 ⩽pi⩽n.
Гарантируется, что заданный во входном файле граф является деревом.

## Форматвыходныхданных

В первой строке выходного файла выведите одно число — максимальное количество вершин в
допустимом множестве.

## Примеры

```
стандартный ввод стандартный вывод
5 0 1 1 2 3
3 6 5 6 5 1 0 1
```
### 3


```
Университет ИТМО, 2017 г.
```
# Задача I. Паросочетание

Имя входного файла: стандартный ввод
Имя выходного файла: стандартный вывод
Ограничение по времени: 2 секунды
Ограничение по памяти: 256 мегабайт
Двудольнымграфом называется неориентированный граф(V; E),E  V V такой, что его
множество вершинV можно разбить на два множестваAиB, для которых 8 (e 1 ; e 2 ) 2 E e 12 A,
e 22 BиA[B=V,A\B=∅.
Паросочетанием в двудольном графе называется любой набор его несмежных рёбер, то есть
такой наборSE, что для любых двух рёберe 1 = (u 1 ; v 1 ),e 2 = (u 2 ; v 2 )изS u 1 ̸=u 2 иv 1 ̸=v 2.
Ваша задача — найти максимальное паросочетание в двудольном графе, то есть паросочетание
с максимально возможным числом рёбер.

## Форматвходныхданных

В первой строке записаны два целых числаnиm( 1 ⩽ n; m⩽ 250 ), где n— число вершин
в множествеA, аm— число вершин вB.
Далее следуютnстрок с описаниями рёбер —i-я вершина изAописана в(i+1)-й строке файла.
Каждая из этих строк содержит номера вершин изB, соединённых сi-й вершинойA. Гарантируется,
что в графе нет кратных ребер. Вершины вAиB нумеруются независимо (с единицы). Список
завершается числом 0.

## Форматвыходныхданных

Первая строка выходного файла должна содержать одно целое числоl— количество рёбер в мак-
симальном паросочетании. Далее следуютlстрок, в каждой из которых должны быть два целых
числаujиvj— концы рёбер паросочетания вAиBсоотвественно.

## Пример

```
стандартный ввод стандартный вывод
2 2
1 2 0
2 0
```
### 2

### 1 1

### 2 2


```
Университет ИТМО, 2017 г.
```
# Задача J. Продавец аквариумов

Имя входного файла: стандартный ввод
Имя выходного файла: стандартный вывод
Ограничение по времени: 1 секунда
Ограничение по памяти: 256 мегабайт
Продавец аквариумов для кошек хочет объехатьnгородов, посетив каждый из них ровно один
раз. Помогите ему найти кратчайший путь.

## Форматвходныхданных

Первая строка входного файла содержит натуральное числоn( 1 ⩽n⩽ 13 ) — количество горо-
дов. Следующиеnстрок содержат поnчисел — длины путей между городами.
Вi-й строкеj-е число —ai;j— это расстояние между городамиiиj( 0 ⩽ai;j⩽ 106 ;ai;j=aj;i;
ai;i= 0).

## Форматвыходныхданных

В первой строке выходного файла выведите длину кратчайшего пути. Во второй строке выведите
nчисел — порядок, в котором нужно посетить города.

## Примеры

```
стандартный ввод стандартный вывод
5
0 183 163 173 181
183 0 165 172 171
163 165 0 189 302
173 172 189 0 167
181 171 302 167 0
```
### 666

### 4 5 2 3 1


```
Университет ИТМО, 2017 г.
```
# Задача K. Симпатичные узоры

Имя входного файла: nice.in
Имя выходного файла: nice.out
Ограничение по времени: 2 секунды
Ограничение по памяти: 256 мегабайт
КомпанияBrokenTiles планирует заняться выкладыванием во дворах у состоятельных клиентов
узор из черных и белых плиток, каждая из которых имеет размер 1  1 метр. Известно, что дворы
всех состоятельных людей имеют наиболее модную на сегодня форму прямоугольникаnmметров.
Однако при составлении финансового плана у директора этой организации появилось целых две
серьезных проблемы: во первых, каждый новый клиент очевидно захочет, чтобы узор, выложенный
у него во дворе, отличался от узоров всех остальных клиентов этой фирмы, а во вторых, этот узор
должен быть симпатичным.
Как показало исследование, узор является симпатичным, если в нем нигде не встречается квад-
рата 2  2 метра, полностью покрытого плитками одного цвета.
Для составления финансового плана директору необходимо узнать, сколько клиентов он сможет
обслужить, прежде чем симпатичные узоры данного размера закончатся. Помогите ему!

## Форматвходныхданных

```
На первой строке входного файла находятся два натуральных числаnиm. 1 ⩽nm⩽ 30.
```
## Форматвыходныхданных

Выведите в выходной файл единственное число — количество различных симпатичных узоров,
которые можно выложить во дворе размераnm. Узоры, получающиеся друг из друга сдвигом,
поворотом или отражением считаются различными.

## Примеры

```
nice.in nice.out
1 1 2
1 2 4
```

```
Университет ИТМО, 2017 г.
```
# Задача L. Cows in a Skyscraper

Имя входного файла: skyscraper.in
Имя выходного файла: skyscraper.out
Ограничение по времени: 1 секунда
Ограничение по памяти: 256 мегабайт
Коровы любят соревноваться в беге по лестницам небоскребов. А вниз потом едут на лифте.
Лифт имеет максимальную вместимостьw( 1 ⩽w ⩽ 108 ) фунтов, а корова номерiвеситci
( 1 ⩽ci⩽w) фунтов.
Помогите Бесси определить минимальное количество спусков лифта, чтобы переместить вниз
всеn( 1 ⩽n⩽ 18 ) коров.
Сумма весов коров в каждом спуске не должна превышать W.

## Форматвходныхданных

```
Первая строка содержит два целых числаnиw( 1 ⩽n⩽ 18 ; 1 ⩽w⩽ 108 ).
Следующиеnстрок содержат веса коров:i-я строк содержит целое числоci( 1 ⩽ci⩽w).
```
## Форматвыходныхданных

Первая строка должна содержать числоr— минимально количество спусков лифта.
Каждая из следующихrстрок содержит множество коров, которые сейчас спускаются. Строка
начинается с количество коров на данном спуске, далее содержатся номера коров.

## Примеры

```
skyscraper.in skyscraper.out
4 10
5
6
3
7
```
### 3

### 2 1 3
b
### 1 2

### 1 4

## Замечание

Всего 4 коровы с весами 5 6 3 и 7. Вместимость лифта — 10.
Мы можем поместить в лифт корову 3 и любую из оставшихся коров. Но все другие коровы не
помещаются даже по две. В решении представленном выше, в первом спуске участвуют коровы 1
и 3, Во втором — корова 2, в третьем — корова 4. Существует несколько правильных решений для
данного ввода.
